<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">
<f:metadata>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <f:event type="preRenderView" listener="#{ideasBean.userIdeas(userBean.username)}" />
</f:metadata>
<h:head><title><h:outputText value="#{userBean.username}"/></title>
    <link rel="stylesheet" type="text/css" href="perfil.css"/>
    <link rel="icon" href="/imagenes/logo.png"/>
</h:head>
<h:body>
    <section class="perfil-usuario">
        <div class="contenedor-perfil">
            <div class="portada-perfil">
                <div class="sombra"></div>
                <div class="avatar-perfil"><img src="/imagenes/cliente.jpg" alt="img"/> <a href="#" class="cambiar-foto">
                    <i class="fas fa-camera"></i> <span>Cambiar foto</span> </a></div>
                <div class="datos-perfil">
                    <h:outputText class="titulo-usuario" value="#{userBean.username}"/>
                    <p class="bio-usuario" ></p>
                    <ul class="lista-perfil"></ul>
                </div>
            </div>
            <div class="menu-perfil">
                <ul>
                    <li><a href="#" title=""><i class="icono-perfil fas fa-bullhorn"></i> Publicaciones</a></li>

                </ul>
            </div>
        </div>
    </section>
    <div class="ideas">
        <h:form>
            <div id="contenedor">
                <p:dataTable id="table1" value="#{ideasBean.ideasList}" var="item"
                             rows="5"  paginator="true"  paginatorPosition="top"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
                             rowsPerPageTemplate="5,10,{ShowAll|'All'}">
                    <p:column headerText="Nombre" sortBy="#{item.name}">
                        <h:outputText  value="#{item.name}" />
                    </p:column>
                    <p:column  headerText="Descripcion" sortBy="#{item.description}">
                        <h:outputText  value="#{item.description}" />
                    </p:column>
                    <p:column  headerText="fecha" sortBy="#{item.fecha}">
                        <h:outputText  value="#{item.fecha}"  />
                    </p:column>
                    <p:column >
                        <h:commandButton action="#{ideasBean.chargueIdea(item)}" value="Ver" class="bt3"/>
                    </p:column>
                </p:dataTable>
            </div>
        </h:form>
    </div>
</h:body>
</html>
